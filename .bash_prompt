st(){
	if [[ -z $(git status -s 2>/dev/null) ]]; then 
		tput setaf $clean  
	else 
		tput setaf $dirty
	fi
}

sesh(){
	if [[ -z $SSH_CLIENT ]]; then 
		echo -n $HOSTNAME
	else 
		tput setaf $SSHCOL
		echo -n $HOSTNAME
	fi
}

PROMPT_COMMAND='
	SSHCOL=12;
	dirty=9;
	clean=10;
	comcol=15;
	usercol=14;
	dircol=11
	
	CMD1=$(git branch --show-current 2>/dev/null);
	CMD0=$(sesh)$(st);
';
	
PS1='\n $(tput setaf $usercol)\u @ ${CMD0} [${CMD1}]\n $(tput setaf $dircol)\w > $(tput setaf $comcol)'
